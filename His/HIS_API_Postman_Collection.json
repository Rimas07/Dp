{
	"info": {
		"_postman_id": "his-api-collection-2024",
		"name": "HIS API - Hospital Information System",
		"description": "–ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è API endpoints –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (HIS)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Authentication",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"accessToken\", jsonData.accessToken);",
									"    pm.environment.set(\"tenantId\", jsonData.tenantId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@hospital1.ru\",\n  \"password\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "login"]
						},
						"description": "–í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º—É. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –∏ tenant ID."
					},
					"response": []
				}
			],
			"description": "–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
		},
		{
			"name": "2. Tenants",
			"item": [
				{
					"name": "Create Company",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"companyName\": \"City Hospital #1\",\n  \"user\": {\n    \"email\": \"admin@hospital1.ru\",\n    \"password\": \"123456\",\n    \"name\": \"Admin User\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/tenants/create-company",
							"host": ["{{baseUrl}}"],
							"path": ["tenants", "create-company"]
						},
						"description": "–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º"
					},
					"response": []
				}
			],
			"description": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏ (–∫–æ–º–ø–∞–Ω–∏—è–º–∏)"
		},
		{
			"name": "3. Users",
			"item": [
				{
					"name": "Get User by Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/email/admin@hospital1.ru",
							"host": ["{{baseUrl}}"],
							"path": ["users", "email", "admin@hospital1.ru"]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email –∞–¥—Ä–µ—Å—É"
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/:userId",
							"host": ["{{baseUrl}}"],
							"path": ["users", ":userId"],
							"variable": [
								{
									"key": "userId",
									"value": "67f8dae8b45234567890abcdef"
								}
							]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID"
					},
					"response": []
				},
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user\": {\n    \"email\": \"doctor@hospital1.ru\",\n    \"password\": \"123456\",\n    \"name\": \"Doctor Name\"\n  },\n  \"tenantId\": \"{{tenantId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/users",
							"host": ["{{baseUrl}}"],
							"path": ["users"]
						},
						"description": "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
					},
					"response": []
				}
			],
			"description": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å–∏—Å—Ç–µ–º—ã"
		},
		{
			"name": "4. Patients",
			"item": [
				{
					"name": "Get All Patients",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/patients",
							"host": ["{{baseUrl}}"],
							"path": ["patients"]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ tenant"
					},
					"response": []
				},
				{
					"name": "Get Patient by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/patients/:patientId",
							"host": ["{{baseUrl}}"],
							"path": ["patients", ":patientId"],
							"variable": [
								{
									"key": "patientId",
									"value": "507f1f77bcf86cd799439011"
								}
							]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ –ø–æ ID"
					},
					"response": []
				},
				{
					"name": "Create Patient",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John\",\n  \"surname\": \"Doe\",\n  \"age\": 30\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/patients",
							"host": ["{{baseUrl}}"],
							"path": ["patients"]
						},
						"description": "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞"
					},
					"response": []
				},
				{
					"name": "Update Patient",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jane\",\n  \"surname\": \"Smith\",\n  \"age\": 25\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/patients/:patientId",
							"host": ["{{baseUrl}}"],
							"path": ["patients", ":patientId"],
							"variable": [
								{
									"key": "patientId",
									"value": "507f1f77bcf86cd799439011"
								}
							]
						},
						"description": "–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞"
					},
					"response": []
				},
				{
					"name": "Delete Patient",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/patients/:patientId",
							"host": ["{{baseUrl}}"],
							"path": ["patients", ":patientId"],
							"variable": [
								{
									"key": "patientId",
									"value": "507f1f77bcf86cd799439011"
								}
							]
						},
						"description": "–£–¥–∞–ª–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞"
					},
					"response": []
				}
			],
			"description": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)"
		},
		{
			"name": "5. Limits",
			"item": [
				{
					"name": "Get Limits",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/limits/:tenantId",
							"host": ["{{baseUrl}}"],
							"path": ["limits", ":tenantId"],
							"variable": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}"
								}
							]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è tenant"
					},
					"response": []
				},
				{
					"name": "Set Limits",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"maxDocuments\": 2000,\n  \"maxDataSizeKB\": 102400,\n  \"monthlyQueries\": 5000\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/limits/:tenantId",
							"host": ["{{baseUrl}}"],
							"path": ["limits", ":tenantId"],
							"variable": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}"
								}
							]
						},
						"description": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è tenant"
					},
					"response": []
				},
				{
					"name": "Get Usage",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/limits/usage/:tenantId",
							"host": ["{{baseUrl}}"],
							"path": ["limits", "usage", ":tenantId"],
							"variable": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}"
								}
							]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤"
					},
					"response": []
				}
			],
			"description": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)"
		},
		{
			"name": "6. Audit",
			"item": [
				{
					"name": "Get Audit Events",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/audit?tenantId={{tenantId}}&limit=50",
							"host": ["{{baseUrl}}"],
							"path": ["audit"],
							"query": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}",
									"disabled": true
								},
								{
									"key": "eventType",
									"value": "PATIENT_CREATED",
									"disabled": true
								},
								{
									"key": "limit",
									"value": "50",
									"disabled": true
								}
							]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –∞—É–¥–∏—Ç–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π"
					},
					"response": []
				},
				{
					"name": "Get System Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/audit/stats",
							"host": ["{{baseUrl}}"],
							"path": ["audit", "stats"]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã"
					},
					"response": []
				}
			],
			"description": "–ü—Ä–æ—Å–º–æ—Ç—Ä –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"
		},
		{
			"name": "7. Proxy",
			"item": [
				{
					"name": "Proxy Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/proxy/health",
							"host": ["{{baseUrl}}"],
							"path": ["proxy", "health"]
						},
						"description": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–∫—Å–∏"
					},
					"response": []
				},
				{
					"name": "Proxy Test",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/proxy/test",
							"host": ["{{baseUrl}}"],
							"path": ["proxy", "test"]
						},
						"description": "–¢–µ—Å—Ç –ø—Ä–æ–∫—Å–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏"
					},
					"response": []
				},
				{
					"name": "Proxy MongoDB Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"collection\": \"patients\",\n  \"action\": \"find\",\n  \"query\": {}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/proxy/mongo/find",
							"host": ["{{baseUrl}}"],
							"path": ["proxy", "mongo", "find"]
						},
						"description": "–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ MongoDB"
					},
					"response": []
				},
				{
					"name": "Start Proxy Server",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/proxy/start",
							"host": ["{{baseUrl}}"],
							"path": ["proxy", "start"]
						},
						"description": "–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 3001"
					},
					"response": []
				},
				{
					"name": "--- MongoDB Proxy: –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ---",
					"item": [
						{
							"name": "üîç Proxy: Find All Patients",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"operation\": \"find\",\n  \"filter\": {},\n  \"limit\": 10\n}"
								},
								"url": {
									"raw": "{{proxyBaseUrl}}/mongo/patients",
									"host": ["{{proxyBaseUrl}}"],
									"path": ["mongo", "patients"]
								},
								"description": "–ù–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ MongoDB proxy. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ {{proxyBaseUrl}} = https://mongodb-proxy-zvw6.onrender.com"
							},
							"response": []
						},
						{
							"name": "üîç Proxy: Find One Patient",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"operation\": \"findOne\",\n  \"filter\": {\n    \"_id\": \"{{patientId}}\"\n  }\n}"
								},
								"url": {
									"raw": "{{proxyBaseUrl}}/mongo/patients",
									"host": ["{{proxyBaseUrl}}"],
									"path": ["mongo", "patients"]
								},
								"description": "–ù–∞–π—Ç–∏ –æ–¥–Ω–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –ø–æ ID —á–µ—Ä–µ–∑ proxy"
							},
							"response": []
						},
						{
							"name": "‚ûï Proxy: Create Patient",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"operation\": \"insertOne\",\n  \"document\": {\n    \"name\": \"Test Patient\",\n    \"surname\": \"Proxy Test\",\n    \"age\": 30\n  }\n}"
								},
								"url": {
									"raw": "{{proxyBaseUrl}}/mongo/patients",
									"host": ["{{proxyBaseUrl}}"],
									"path": ["mongo", "patients"]
								},
								"description": "–°–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ MongoDB proxy"
							},
							"response": []
						},
						{
							"name": "üß™ Proxy: Atomic findOneAndUpdate (–¢–µ—Å—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è —Ç–µ—Å—Ç–∞",
											"const testId = 'atomic-test-' + Date.now();",
											"pm.environment.set('atomicTestId', testId);",
											"console.log('üß™ –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:', testId);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Atomic operation completed\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('success');",
											"    ",
											"    if (jsonData.success) {",
											"        console.log('‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ');",
											"        console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', jsonData.data);",
											"    }",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"operation\": \"findOneAndUpdate\",\n  \"filter\": {\n    \"name\": \"Test Patient\"\n  },\n  \"update\": {\n    \"$inc\": {\n      \"age\": 1\n    }\n  },\n  \"returnDocument\": \"after\",\n  \"upsert\": false\n}"
								},
								"url": {
									"raw": "{{proxyBaseUrl}}/mongo/patients",
									"host": ["{{proxyBaseUrl}}"],
									"path": ["mongo", "patients"]
								},
								"description": "üß™ –ê–¢–û–ú–ê–†–ù–ê–Ø –û–ü–ï–†–ê–¶–ò–Ø: findOneAndUpdate - –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ proxy."
							},
							"response": []
						},
						{
							"name": "üß™ Proxy: Atomic Test - Concurrent Update (Request 1)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞",
											"pm.environment.set('atomicRequest1Start', Date.now());",
											"console.log('üöÄ Atomic Request 1 –Ω–∞—á–∞—Ç');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const endTime = Date.now();",
											"const startTime = parseInt(pm.environment.get('atomicRequest1Start') || '0');",
											"",
											"if (pm.response.code === 200) {",
											"    const jsonData = pm.response.json();",
											"    if (jsonData.success && jsonData.data) {",
											"        pm.test(\"‚úÖ Request 1: Atomic update successful\", function () {",
											"            pm.response.to.have.status(200);",
											"            pm.environment.set('atomicRequest1Result', 'SUCCESS');",
											"            console.log('‚úÖ Request 1: –£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω:', jsonData.data);",
											"        });",
											"    } else {",
											"        pm.environment.set('atomicRequest1Result', 'NO_MATCH');",
											"        console.log('‚ö†Ô∏è Request 1: –î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω');",
											"    }",
											"} else {",
											"    pm.environment.set('atomicRequest1Result', 'ERROR');",
											"    console.error('‚ùå Request 1: –û—à–∏–±–∫–∞:', pm.response.code);",
											"}",
											"",
											"console.log('‚è±Ô∏è Request 1 –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞:', endTime - startTime, '–º—Å');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"operation\": \"findOneAndUpdate\",\n  \"filter\": {\n    \"name\": \"Atomic Test Patient\"\n  },\n  \"update\": {\n    \"$inc\": {\n      \"counter\": 1\n    },\n    \"$set\": {\n      \"lastUpdated\": new Date().toISOString()\n    }\n  },\n  \"returnDocument\": \"after\",\n  \"upsert\": true\n}"
								},
								"url": {
									"raw": "{{proxyBaseUrl}}/mongo/patients",
									"host": ["{{proxyBaseUrl}}"],
									"path": ["mongo", "patients"]
								},
								"description": "üß™ –ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ—Å—Ç–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏. –ù–∞–∂–º–∏—Ç–µ Send, –∑–∞—Ç–µ–º –°–†–ê–ó–£ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ Request 2!"
							},
							"response": []
						},
						{
							"name": "üß™ Proxy: Atomic Test - Concurrent Update (Request 2)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞",
											"const startTime = Date.now();",
											"pm.environment.set('atomicRequest2Start', startTime);",
											"",
											"// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ä–µ–º—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏",
											"const request1Start = parseInt(pm.environment.get('atomicRequest1Start') || '0');",
											"if (request1Start > 0) {",
											"    const timeDiff = startTime - request1Start;",
											"    console.log('‚è±Ô∏è –í—Ä–µ–º—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:', timeDiff, '–º—Å');",
											"    if (timeDiff < 100) {",
											"        console.log('‚úÖ –û—Ç–ª–∏—á–Ω–æ! –ó–∞–ø—Ä–æ—Å—ã –ø–æ—á—Ç–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ!');",
											"    }",
											"}",
											"",
											"console.log('üöÄ Atomic Request 2 –Ω–∞—á–∞—Ç');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const endTime = Date.now();",
											"const startTime = parseInt(pm.environment.get('atomicRequest2Start') || '0');",
											"",
											"if (pm.response.code === 200) {",
											"    const jsonData = pm.response.json();",
											"    if (jsonData.success && jsonData.data) {",
											"        pm.test(\"‚úÖ Request 2: Atomic update successful\", function () {",
											"            pm.response.to.have.status(200);",
											"            pm.environment.set('atomicRequest2Result', 'SUCCESS');",
											"            console.log('‚úÖ Request 2: –£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω:', jsonData.data);",
											"        });",
											"    } else {",
											"        pm.environment.set('atomicRequest2Result', 'NO_MATCH');",
											"        console.log('‚ö†Ô∏è Request 2: –î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω');",
											"    }",
											"} else {",
											"    pm.environment.set('atomicRequest2Result', 'ERROR');",
											"    console.error('‚ùå Request 2: –û—à–∏–±–∫–∞:', pm.response.code);",
											"}",
											"",
											"console.log('‚è±Ô∏è Request 2 –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞:', endTime - startTime, '–º—Å');",
											"",
											"// –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",
											"const request1Result = pm.environment.get('atomicRequest1Result');",
											"const request2Result = pm.environment.get('atomicRequest2Result');",
											"",
											"console.log('\\nüìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–¢–û–ú–ê–†–ù–û–ì–û –¢–ï–°–¢–ê:');",
											"console.log('Request 1:', request1Result);",
											"console.log('Request 2:', request2Result);",
											"",
											"if (request1Result === 'SUCCESS' && request2Result === 'SUCCESS') {",
											"    console.log('‚úÖ –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ —É—Å–ø–µ—à–Ω—ã - –∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç!');",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"operation\": \"findOneAndUpdate\",\n  \"filter\": {\n    \"name\": \"Atomic Test Patient\"\n  },\n  \"update\": {\n    \"$inc\": {\n      \"counter\": 1\n    },\n    \"$set\": {\n      \"lastUpdated\": new Date().toISOString()\n    }\n  },\n  \"returnDocument\": \"after\",\n  \"upsert\": true\n}"
								},
								"url": {
									"raw": "{{proxyBaseUrl}}/mongo/patients",
									"host": ["{{proxyBaseUrl}}"],
									"path": ["mongo", "patients"]
								},
								"description": "üß™ –í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ—Å—Ç–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏. –ù–∞–∂–º–∏—Ç–µ Send –°–†–ê–ó–£ –ø–æ—Å–ª–µ Request 1!"
							},
							"response": []
						},
						{
							"name": "‚úÖ Proxy: Verify Atomic Result",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Result retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"const jsonData = pm.response.json();",
											"if (jsonData.success && jsonData.data) {",
											"    const patient = Array.isArray(jsonData.data) ? jsonData.data[0] : jsonData.data;",
											"    ",
											"    console.log('\\nüìä –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢ –ê–¢–û–ú–ê–†–ù–û–ô –û–ü–ï–†–ê–¶–ò–ò:');",
											"    console.log('–î–æ–∫—É–º–µ–Ω—Ç:', patient);",
											"    ",
											"    if (patient.counter !== undefined) {",
											"        console.log('–°—á–µ—Ç—á–∏–∫:', patient.counter);",
											"        ",
											"        // –ï—Å–ª–∏ –æ–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω—ã, counter –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 2",
											"        const request1Result = pm.environment.get('atomicRequest1Result');",
											"        const request2Result = pm.environment.get('atomicRequest2Result');",
											"        ",
											"        if (request1Result === 'SUCCESS' && request2Result === 'SUCCESS') {",
											"            pm.test(\"‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å: –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ —É–≤–µ–ª–∏—á–∏–ª–∏ —Å—á–µ—Ç—á–∏–∫\", function () {",
											"                pm.expect(patient.counter).to.be.at.least(2);",
											"            });",
											"            console.log('‚úÖ –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∞—Ç–æ–º–∞—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!');",
											"        }",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"operation\": \"findOne\",\n  \"filter\": {\n    \"name\": \"Atomic Test Patient\"\n  }\n}"
								},
								"url": {
									"raw": "{{proxyBaseUrl}}/mongo/patients",
									"host": ["{{proxyBaseUrl}}"],
									"path": ["mongo", "patients"]
								},
								"description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ - –æ–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç"
							},
							"response": []
						}
					],
					"description": "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π MongoDB —á–µ—Ä–µ–∑ Proxy —ç–Ω–¥–ø–æ–∏–Ω—Ç\n\nüìã –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:\n\n1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é proxyBaseUrl:**\n   - –í Postman: Environment ‚Üí Edit\n   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `proxyBaseUrl` = `https://mongodb-proxy-zvw6.onrender.com`\n   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π proxy: `http://localhost:3000`\n\n2. **–ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**\n   - `üîç Proxy: Find All Patients` - –Ω–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤\n   - `üîç Proxy: Find One Patient` - –Ω–∞–π—Ç–∏ –æ–¥–Ω–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞\n   - `‚ûï Proxy: Create Patient` - —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞\n\n3. **–¢–µ—Å—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ (—Ä—É—á–Ω–æ–π):**\n   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ `üß™ Proxy: Atomic Test - Concurrent Update (Request 1)`\n   - –°–†–ê–ó–£ –ñ–ï –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `üß™ Proxy: Atomic Test - Concurrent Update (Request 2)`\n   - –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `findOneAndUpdate` —Å `$inc` –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞\n   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ `‚úÖ Proxy: Verify Atomic Result` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞\n\n4. **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**\n   - –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ `findOneAndUpdate`\n   - –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω—ã —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç\n   - –°—á–µ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–≤–µ–ª–∏—á–µ–Ω –Ω–∞ 2 (–ø–æ 1 –æ—Ç –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)\n\nüí° –°–û–í–ï–¢: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å Postman (View ‚Üí Show Postman Console) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤."
				}
			],
			"description": "HTTP Proxy –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ MongoDB"
		},
		{
			"name": "8. Monitoring",
			"item": [
				{
					"name": "Prometheus Metrics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/metrics",
							"host": ["{{baseUrl}}"],
							"path": ["metrics"]
						},
						"description": "–ü–æ–ª—É—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ Prometheus"
					},
					"response": []
				}
			],
			"description": "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã"
		},
		{
			"name": "9. Atomic Operations Tests",
			"item": [
				{
					"name": "Setup: Reset Limits for Atomic Test",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∏–∑–∫–∏–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏",
									"pm.environment.set(\"testMaxDocuments\", \"5\");",
									"pm.environment.set(\"testMaxDataSizeKB\", \"100\");",
									"pm.environment.set(\"testMonthlyQueries\", \"10\");"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Limits reset successfully\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"maxDocuments\": {{testMaxDocuments}},\n  \"maxDataSizeKB\": {{testMaxDataSizeKB}},\n  \"monthlyQueries\": {{testMonthlyQueries}}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/limits/:tenantId",
							"host": ["{{baseUrl}}"],
							"path": ["limits", ":tenantId"],
							"variable": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}"
								}
							]
						},
						"description": "–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∏–∑–∫–∏–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"
					},
					"response": []
				},
				{
					"name": "Setup: Reset Usage to Near Limit",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ",
									"const getUsageRequest = {",
									"    url: pm.environment.get('baseUrl') + '/limits/usage/' + pm.environment.get('tenantId'),",
									"    method: 'GET',",
									"    header: {",
									"        'Authorization': 'Bearer ' + pm.environment.get('accessToken'),",
									"        'X-TENANT-ID': pm.environment.get('tenantId')",
									"    }",
									"};",
									"",
									"pm.sendRequest(getUsageRequest, function (err, res) {",
									"    if (!err && res.code === 200) {",
									"        const usage = res.json();",
									"        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–ª–∏–∑–∫–æ –∫ –ª–∏–º–∏—Ç—É (4 –∏–∑ 5)",
									"        pm.environment.set('currentDocsCount', usage.documentsCount || 0);",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Usage retrieved\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/limits/usage/:tenantId",
							"host": ["{{baseUrl}}"],
							"path": ["limits", "usage", ":tenantId"],
							"variable": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}"
								}
							]
						},
						"description": "–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–æ–º –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏"
					},
					"response": []
				},
				{
					"name": "Atomic Test: Concurrent Patient Creation (Request 1)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞",
									"const timestamp = Date.now();",
									"const randomId = Math.floor(Math.random() * 1000);",
									"pm.environment.set('patientName1', 'AtomicTest_' + timestamp + '_' + randomId);",
									"",
									"// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–∞",
									"pm.environment.set('request1StartTime', timestamp);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏",
									"if (pm.response.code === 201) {",
									"    pm.test(\"Request 1: Patient created successfully\", function () {",
									"        pm.response.to.have.status(201);",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('_id');",
									"        pm.environment.set('patient1Id', jsonData._id);",
									"        pm.environment.set('request1Success', 'true');",
									"    });",
									"} else if (pm.response.code === 403) {",
									"    pm.test(\"Request 1: Limit exceeded (expected in concurrent test)\", function () {",
									"        pm.response.to.have.status(403);",
									"        pm.environment.set('request1Success', 'false');",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('error');",
									"        pm.expect(jsonData.error).to.include('LIMIT_EXCEEDED');",
									"    });",
									"}",
									"",
									"// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è",
									"pm.environment.set('request1EndTime', Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"{{patientName1}}\",\n  \"surname\": \"AtomicTest\",\n  \"age\": 25\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/patients",
							"host": ["{{baseUrl}}"],
							"path": ["patients"]
						},
						"description": "–ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Collection Runner –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å Request 2."
					},
					"response": []
				},
				{
					"name": "Atomic Test: Concurrent Patient Creation (Request 2)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞",
									"const timestamp = Date.now();",
									"const randomId = Math.floor(Math.random() * 1000);",
									"pm.environment.set('patientName2', 'AtomicTest_' + timestamp + '_' + randomId);",
									"",
									"// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–∞",
									"pm.environment.set('request2StartTime', timestamp);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏",
									"if (pm.response.code === 201) {",
									"    pm.test(\"Request 2: Patient created successfully\", function () {",
									"        pm.response.to.have.status(201);",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('_id');",
									"        pm.environment.set('patient2Id', jsonData._id);",
									"        pm.environment.set('request2Success', 'true');",
									"    });",
									"} else if (pm.response.code === 403) {",
									"    pm.test(\"Request 2: Limit exceeded (expected in concurrent test)\", function () {",
									"        pm.response.to.have.status(403);",
									"        pm.environment.set('request2Success', 'false');",
									"        const jsonData = pm.response.json();",
									"        pm.expect(jsonData).to.have.property('error');",
									"        pm.expect(jsonData.error).to.include('LIMIT_EXCEEDED');",
									"    });",
									"}",
									"",
									"// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è",
									"pm.environment.set('request2EndTime', Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"{{patientName2}}\",\n  \"surname\": \"AtomicTest\",\n  \"age\": 25\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/patients",
							"host": ["{{baseUrl}}"],
							"path": ["patients"]
						},
						"description": "–í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Collection Runner –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å Request 1."
					},
					"response": []
				},
				{
					"name": "Verify: Check Atomic Operation Result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Usage retrieved for verification\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const usage = pm.response.json();",
									"const maxDocs = parseInt(pm.environment.get('testMaxDocuments') || '5');",
									"",
									"pm.test(\"Atomic operation: Only one request should succeed when at limit\", function () {",
									"    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ª–∏–º–∏—Ç –Ω–µ –±—ã–ª –ø—Ä–µ–≤—ã—à–µ–Ω",
									"    pm.expect(usage.documentsCount).to.be.at.most(maxDocs);",
									"    ",
									"    // –ï—Å–ª–∏ –æ–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –¥–æ–ª–∂–µ–Ω –±—ã–ª –ø—Ä–æ–π—Ç–∏",
									"    const request1Success = pm.environment.get('request1Success');",
									"    const request2Success = pm.environment.get('request2Success');",
									"    ",
									"    if (request1Success && request2Success) {",
									"        // –ï—Å–ª–∏ –æ–±–∞ —É—Å–ø–µ—à–Ω—ã, –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ª–∏–º–∏—Ç –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω",
									"        pm.expect(usage.documentsCount).to.be.at.most(maxDocs);",
									"    }",
									"});",
									"",
									"pm.test(\"Atomic operation: System correctly enforced limits\", function () {",
									"    // –õ–∏–º–∏—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–±–ª—é–¥–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è –∞—Ç–æ–º–∞—Ä–Ω—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º",
									"    pm.expect(usage.documentsCount).to.be.at.most(maxDocs);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/limits/usage/:tenantId",
							"host": ["{{baseUrl}}"],
							"path": ["limits", "usage", ":tenantId"],
							"variable": [
								{
									"key": "tenantId",
									"value": "{{tenantId}}"
								}
							]
						},
						"description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ - –ª–∏–º–∏—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–≤—ã—à–µ–Ω"
					},
					"response": []
				},
				{
					"name": "Cleanup: Delete Test Patients",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// –û—á–∏—Å—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞",
									"pm.test(\"Cleanup completed\", function () {",
									"    // –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å 200 –∏–ª–∏ 404 (–µ—Å–ª–∏ —É–∂–µ —É–¥–∞–ª–µ–Ω)",
									"    pm.expect([200, 404]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "X-TENANT-ID",
								"value": "{{tenantId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/patients/:patientId",
							"host": ["{{baseUrl}}"],
							"path": ["patients", ":patientId"],
							"variable": [
								{
									"key": "patientId",
									"value": "{{patient1Id}}"
								}
							]
						},
						"description": "–£–¥–∞–ª—è–µ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞ 1 (–µ—Å–ª–∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω)"
					},
					"response": []
				},
				{
					"name": "--- –†–£–ß–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï ---",
					"item": [
						{
							"name": "üìä –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ª–∏–º–∏—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Limits retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const limits = pm.response.json();",
											"    console.log(\"üìä –¢–µ–∫—É—â–∏–µ –ª–∏–º–∏—Ç—ã:\", limits);",
											"    pm.environment.set('currentMaxDocs', limits.maxDocuments);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/limits/:tenantId",
									"host": ["{{baseUrl}}"],
									"path": ["limits", ":tenantId"],
									"variable": [
										{
											"key": "tenantId",
											"value": "{{tenantId}}"
										}
									]
								},
								"description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –ª–∏–º–∏—Ç—ã –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–æ–º"
							},
							"response": []
						},
						{
							"name": "üìä –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Usage retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const usage = pm.response.json();",
											"    const maxDocs = parseInt(pm.environment.get('currentMaxDocs') || '1000');",
											"    ",
											"    console.log(\"üìä –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:\", usage);",
											"    console.log(\"üìä –õ–∏–º–∏—Ç:\", maxDocs);",
											"    console.log(\"üìä –û—Å—Ç–∞–ª–æ—Å—å:\", maxDocs - usage.documentsCount);",
											"    ",
											"    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏",
											"    pm.environment.set('usageBeforeTest', usage.documentsCount);",
											"    ",
											"    // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–ª–∏–∑–∫–æ –∫ –ª–∏–º–∏—Ç—É",
											"    if (usage.documentsCount >= maxDocs - 1) {",
											"        console.warn(\"‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–ª–∏–∑–∫–æ –∫ –ª–∏–º–∏—Ç—É! –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏.\");",
											"    } else {",
											"        console.log(\"üí° –°–æ–≤–µ—Ç: –î–ª—è –ª—É—á—à–µ–≥–æ —Ç–µ—Å—Ç–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'Setup: Reset Limits for Atomic Test'\");",
											"    }",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/limits/usage/:tenantId",
									"host": ["{{baseUrl}}"],
									"path": ["limits", "usage", ":tenantId"],
									"variable": [
										{
											"key": "tenantId",
											"value": "{{tenantId}}"
										}
									]
								},
								"description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–æ–º"
							},
							"response": []
						},
						{
							"name": "üß™ –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–ó–∞–ø—Ä–æ—Å 1) - –ù–ê–ñ–ú–ò–¢–ï –ë–´–°–¢–†–û",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è",
											"const timestamp = Date.now();",
											"pm.environment.set('manualTestPatient1', 'ManualTest_' + timestamp);",
											"pm.environment.set('request1StartTime', timestamp);",
											"console.log('üöÄ –ó–∞–ø—Ä–æ—Å 1 –Ω–∞—á–∞—Ç –≤:', new Date(timestamp).toISOString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const endTime = Date.now();",
											"const startTime = parseInt(pm.environment.get('request1StartTime') || '0');",
											"const duration = endTime - startTime;",
											"",
											"if (pm.response.code === 201) {",
											"    pm.test(\"‚úÖ –ó–∞–ø—Ä–æ—Å 1: –ü–∞—Ü–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ\", function () {",
											"        pm.response.to.have.status(201);",
											"        const jsonData = pm.response.json();",
											"        pm.expect(jsonData).to.have.property('_id');",
											"        pm.environment.set('manualPatient1Id', jsonData._id);",
											"        pm.environment.set('request1Result', 'SUCCESS');",
											"    });",
											"    console.log('‚úÖ –ó–∞–ø—Ä–æ—Å 1: –£–°–ü–ï–• - –ü–∞—Ü–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω');",
											"} else if (pm.response.code === 403) {",
											"    pm.test(\"‚ùå –ó–∞–ø—Ä–æ—Å 1: –õ–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏)\", function () {",
											"        pm.response.to.have.status(403);",
											"        pm.environment.set('request1Result', 'LIMIT_EXCEEDED');",
											"        const jsonData = pm.response.json();",
											"        console.log('‚ùå –ó–∞–ø—Ä–æ—Å 1: –õ–ò–ú–ò–¢ –ü–†–ï–í–´–®–ï–ù:', jsonData.message);",
											"    });",
											"} else {",
											"    console.error('‚ö†Ô∏è –ó–∞–ø—Ä–æ—Å 1: –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å:', pm.response.code);",
											"}",
											"",
											"console.log('‚è±Ô∏è –ó–∞–ø—Ä–æ—Å 1 –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞:', duration, '–º—Å');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"{{manualTestPatient1}}\",\n  \"surname\": \"ManualAtomicTest\",\n  \"age\": 30\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/patients",
									"host": ["{{baseUrl}}"],
									"path": ["patients"]
								},
								"description": "üß™ –†–£–ß–ù–û–ô –¢–ï–°–¢: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è Send, –°–†–ê–ó–£ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–∞–ø—Ä–æ—Å—É –∏ –Ω–∞–∂–º–∏—Ç–µ Send —Ç–∞–º —Ç–æ–∂–µ!"
							},
							"response": []
						},
						{
							"name": "üß™ –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–ó–∞–ø—Ä–æ—Å 2) - –ù–ê–ñ–ú–ò–¢–ï –ë–´–°–¢–†–û –ü–û–°–õ–ï –ó–ê–ü–†–û–°–ê 1",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è",
											"const timestamp = Date.now();",
											"pm.environment.set('manualTestPatient2', 'ManualTest_' + timestamp);",
											"pm.environment.set('request2StartTime', timestamp);",
											"console.log('üöÄ –ó–∞–ø—Ä–æ—Å 2 –Ω–∞—á–∞—Ç –≤:', new Date(timestamp).toISOString());",
											"",
											"// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ä–µ–º—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏",
											"const request1Start = parseInt(pm.environment.get('request1StartTime') || '0');",
											"if (request1Start > 0) {",
											"    const timeDiff = timestamp - request1Start;",
											"    console.log('‚è±Ô∏è –í—Ä–µ–º—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:', timeDiff, '–º—Å');",
											"    if (timeDiff < 100) {",
											"        console.log('‚úÖ –û—Ç–ª–∏—á–Ω–æ! –ó–∞–ø—Ä–æ—Å—ã –ø–æ—á—Ç–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ - –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏!');",
											"    } else if (timeDiff < 500) {",
											"        console.log('‚ö†Ô∏è –ó–∞–ø—Ä–æ—Å—ã —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π, –Ω–æ —Ç–µ—Å—Ç –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å');",
											"    } else {",
											"        console.warn('‚ö†Ô∏è –ó–∞–ø—Ä–æ—Å—ã —Å –±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π. –î–ª—è –ª—É—á—à–µ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–∞–∂–º–∏—Ç–µ Send –±—ã—Å—Ç—Ä–µ–µ!');",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const endTime = Date.now();",
											"const startTime = parseInt(pm.environment.get('request2StartTime') || '0');",
											"const duration = endTime - startTime;",
											"",
											"if (pm.response.code === 201) {",
											"    pm.test(\"‚úÖ –ó–∞–ø—Ä–æ—Å 2: –ü–∞—Ü–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ\", function () {",
											"        pm.response.to.have.status(201);",
											"        const jsonData = pm.response.json();",
											"        pm.expect(jsonData).to.have.property('_id');",
											"        pm.environment.set('manualPatient2Id', jsonData._id);",
											"        pm.environment.set('request2Result', 'SUCCESS');",
											"    });",
											"    console.log('‚úÖ –ó–∞–ø—Ä–æ—Å 2: –£–°–ü–ï–• - –ü–∞—Ü–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω');",
											"} else if (pm.response.code === 403) {",
											"    pm.test(\"‚ùå –ó–∞–ø—Ä–æ—Å 2: –õ–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏)\", function () {",
											"        pm.response.to.have.status(403);",
											"        pm.environment.set('request2Result', 'LIMIT_EXCEEDED');",
											"        const jsonData = pm.response.json();",
											"        console.log('‚ùå –ó–∞–ø—Ä–æ—Å 2: –õ–ò–ú–ò–¢ –ü–†–ï–í–´–®–ï–ù:', jsonData.message);",
											"    });",
											"} else {",
											"    console.error('‚ö†Ô∏è –ó–∞–ø—Ä–æ—Å 2: –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å:', pm.response.code);",
											"}",
											"",
											"console.log('‚è±Ô∏è –ó–∞–ø—Ä–æ—Å 2 –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞:', duration, '–º—Å');",
											"",
											"// –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",
											"const request1Result = pm.environment.get('request1Result');",
											"const request2Result = pm.environment.get('request2Result');",
											"",
											"console.log('\\nüìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ê –ê–¢–û–ú–ê–†–ù–û–°–¢–ò:');",
											"console.log('–ó–∞–ø—Ä–æ—Å 1:', request1Result);",
											"console.log('–ó–∞–ø—Ä–æ—Å 2:', request2Result);",
											"",
											"if (request1Result === 'SUCCESS' && request2Result === 'LIMIT_EXCEEDED') {",
											"    console.log('‚úÖ –û–¢–õ–ò–ß–ù–û! –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç: —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—à–µ–ª!');",
											"} else if (request1Result === 'LIMIT_EXCEEDED' && request2Result === 'SUCCESS') {",
											"    console.log('‚úÖ –û–¢–õ–ò–ß–ù–û! –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç: —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—à–µ–ª!');",
											"} else if (request1Result === 'SUCCESS' && request2Result === 'SUCCESS') {",
											"    console.log('‚ÑπÔ∏è –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ—à–ª–∏. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –ª–∏–º–∏—Ç –±—ã–ª –¥–∞–ª–µ–∫–æ –æ—Ç –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è.');",
											"} else if (request1Result === 'LIMIT_EXCEEDED' && request2Result === 'LIMIT_EXCEEDED') {",
											"    console.log('‚ÑπÔ∏è –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ –ø—Ä–æ—à–ª–∏. –õ–∏–º–∏—Ç —É–∂–µ –±—ã–ª –∏—Å—á–µ—Ä–ø–∞–Ω.');",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"{{manualTestPatient2}}\",\n  \"surname\": \"ManualAtomicTest\",\n  \"age\": 30\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/patients",
									"host": ["{{baseUrl}}"],
									"path": ["patients"]
								},
								"description": "üß™ –†–£–ß–ù–û–ô –¢–ï–°–¢: –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ó–∞–ø—Ä–æ—Å–∞ 1, –Ω–∞–∂–º–∏—Ç–µ Send –∑–¥–µ—Å—å! –ß–µ–º –±—ã—Å—Ç—Ä–µ–µ, —Ç–µ–º –ª—É—á—à–µ –¥–ª—è —Ç–µ—Å—Ç–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏."
							},
							"response": []
						},
						{
							"name": "‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Usage retrieved after test\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"const usage = pm.response.json();",
											"const maxDocs = parseInt(pm.environment.get('currentMaxDocs') || '1000');",
											"const usageBefore = parseInt(pm.environment.get('usageBeforeTest') || '0');",
											"",
											"console.log('\\nüìä –ò–¢–û–ì–û–í–ê–Ø –ü–†–û–í–ï–†–ö–ê –ê–¢–û–ú–ê–†–ù–û–°–¢–ò:');",
											"console.log('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ —Ç–µ—Å—Ç–∞:', usageBefore);",
											"console.log('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞:', usage.documentsCount);",
											"console.log('–õ–∏–º–∏—Ç:', maxDocs);",
											"console.log('–ò–∑–º–µ–Ω–µ–Ω–∏–µ:', usage.documentsCount - usageBefore);",
											"",
											"pm.test(\"‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å: –õ–∏–º–∏—Ç –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω\", function () {",
											"    pm.expect(usage.documentsCount).to.be.at.most(maxDocs);",
											"});",
											"",
											"const request1Result = pm.environment.get('request1Result');",
											"const request2Result = pm.environment.get('request2Result');",
											"",
											"// –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–∫—É –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏",
											"if (request1Result === 'SUCCESS' && request2Result === 'SUCCESS') {",
											"    // –û–±–∞ –ø—Ä–æ—à–ª–∏ - –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –±—ã–ª–æ –≤–æ–∑–º–æ–∂–Ω–æ",
											"    const expectedIncrease = 2;",
											"    const actualIncrease = usage.documentsCount - usageBefore;",
											"    ",
											"    if (actualIncrease === expectedIncrease) {",
											"        console.log('‚úÖ –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ—à–ª–∏, –∏ –ª–∏–º–∏—Ç –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!');",
											"    }",
											"} else if ((request1Result === 'SUCCESS' && request2Result === 'LIMIT_EXCEEDED') ||",
											"           (request1Result === 'LIMIT_EXCEEDED' && request2Result === 'SUCCESS')) {",
											"    // –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—à–µ–ª - —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏!",
											"    const expectedIncrease = 1;",
											"    const actualIncrease = usage.documentsCount - usageBefore;",
											"    ",
											"    pm.test(\"‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç: —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å —É–≤–µ–ª–∏—á–∏–ª —Å—á–µ—Ç—á–∏–∫\", function () {",
											"        pm.expect(actualIncrease).to.equal(expectedIncrease);",
											"    });",
											"    ",
											"    console.log('üéâ –û–¢–õ–ò–ß–ù–û! –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!');",
											"    console.log('–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—à–µ–ª, –≤—Ç–æ—Ä–æ–π –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∞—Ç–æ–º–∞—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π.');",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/limits/usage/:tenantId",
									"host": ["{{baseUrl}}"],
									"path": ["limits", "usage", ":tenantId"],
									"variable": [
										{
											"key": "tenantId",
											"value": "{{tenantId}}"
										}
									]
								},
								"description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –ª–∏–º–∏—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–≤—ã—à–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è –∞—Ç–æ–º–∞—Ä–Ω—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º"
							},
							"response": []
						},
						{
							"name": "üßπ –®–∞–≥ 6: –û—á–∏—Å—Ç–∫–∞ - –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// –£–¥–∞–ª—è–µ–º –æ–±–æ–∏—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã",
											"const patient1Id = pm.environment.get('manualPatient1Id');",
											"const patient2Id = pm.environment.get('manualPatient2Id');",
											"",
											"if (patient1Id) {",
											"    console.log('–£–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ 1:', patient1Id);",
											"}",
											"if (patient2Id) {",
											"    console.log('–£–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ 2:', patient2Id);",
											"}",
											"",
											"pm.test(\"Cleanup completed\", function () {",
											"    // –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å 200 –∏–ª–∏ 404",
											"    pm.expect([200, 404]).to.include(pm.response.code);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/patients/:patientId",
									"host": ["{{baseUrl}}"],
									"path": ["patients", ":patientId"],
									"variable": [
										{
											"key": "patientId",
											"value": "{{manualPatient1Id}}"
										}
									]
								},
								"description": "–£–¥–∞–ª—è–µ—Ç –ø–µ—Ä–≤–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞"
							},
							"response": []
						},
						{
							"name": "üßπ –£–¥–∞–ª–∏—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{accessToken}}"
									},
									{
										"key": "X-TENANT-ID",
										"value": "{{tenantId}}"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/patients/:patientId",
									"host": ["{{baseUrl}}"],
									"path": ["patients", ":patientId"],
									"variable": [
										{
											"key": "patientId",
											"value": "{{manualPatient2Id}}"
										}
									]
								},
								"description": "–£–¥–∞–ª—è–µ—Ç –≤—Ç–æ—Ä–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω)"
							},
							"response": []
						}
					],
					"description": "üìã –†–£–ß–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ê–¢–û–ú–ê–†–ù–´–• –û–ü–ï–†–ê–¶–ò–ô\n\n–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Collection Runner.\n\nüöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:\n\n1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**\n   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ \"üìä –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ª–∏–º–∏—Ç—ã\"\n   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ \"üìä –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\"\n   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ \"Setup: Reset Limits for Atomic Test\" –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∏–∑–∫–∏—Ö –ª–∏–º–∏—Ç–æ–≤\n\n2. **–¢–µ—Å—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ (–†–£–ß–ù–û–ô):**\n   - –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–ø—Ä–æ—Å \"üß™ –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–ó–∞–ø—Ä–æ—Å 1)\"\n   - –ù–∞–∂–º–∏—Ç–µ **Send**\n   - **–°–†–ê–ó–£ –ñ–ï** (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ!) –æ—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–ø—Ä–æ—Å \"üß™ –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–ó–∞–ø—Ä–æ—Å 2)\"\n   - –ù–∞–∂–º–∏—Ç–µ **Send** –Ω–∞ –≤—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–µ\n   - –ß–µ–º –±—ã—Å—Ç—Ä–µ–µ –≤—ã –Ω–∞–∂–º–µ—Ç–µ Send –Ω–∞ –≤—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–µ, —Ç–µ–º –ª—É—á—à–µ –¥–ª—è —Ç–µ—Å—Ç–∞!\n\n3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**\n   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ \"‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏\"\n   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å Postman (View ‚Üí Show Postman Console) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞\n\n4. **–û—á–∏—Å—Ç–∫–∞:**\n   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ \"üßπ –®–∞–≥ 6: –û—á–∏—Å—Ç–∫–∞\" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n\nüí° –°–û–í–ï–¢–´:\n- –î–ª—è –ª—É—á—à–µ–≥–æ —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∏–∑–∫–∏–µ –ª–∏–º–∏—Ç—ã (5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)\n- –ù–∞–∂–∏–º–∞–π—Ç–µ Send –Ω–∞ –≤—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ\n- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å Postman –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n- –ï—Å–ª–∏ –æ–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ—à–ª–∏ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –ª–∏–º–∏—Ç –±—ã–ª –¥–∞–ª–µ–∫–æ –æ—Ç –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è"
				}
			],
			"description": "üß™ –¢–µ—Å—Ç—ã –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n\n–≠—Ç–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç, —á—Ç–æ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ MongoDB —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç race conditions.\n\nüìã –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:\n\n1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**\n   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ \"Setup: Reset Limits for Atomic Test\" - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–∏–∑–∫–∏–µ –ª–∏–º–∏—Ç—ã (5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)\n   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ \"Setup: Reset Usage to Near Limit\" - –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\n\n2. **–¢–µ—Å—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ (Collection Runner):**\n   - –û—Ç–∫—Ä–æ–π—Ç–µ Collection Runner (Ctrl+Shift+R –∏–ª–∏ View ‚Üí Collection Runner)\n   - –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã:\n     * \"Atomic Test: Concurrent Patient Creation (Request 1)\"\n     * \"Atomic Test: Concurrent Patient Creation (Request 2)\"\n   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ \"Iterations\" = 1\n   - –í–ê–ñ–ù–û: –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏\n   - –ù–∞–∂–º–∏—Ç–µ \"Run\"\n   - –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n\n3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**\n   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ \"Verify: Check Atomic Operation Result\"\n   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ª–∏–º–∏—Ç –Ω–µ –±—ã–ª –ø—Ä–µ–≤—ã—à–µ–Ω\n   - –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞\n\n4. **–û—á–∏—Å—Ç–∫–∞:**\n   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ \"Cleanup: Delete Test Patients\" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n\nüîç –ß–¢–û –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø:\n- –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π MongoDB (findOneAndUpdate)\n- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ race conditions\n- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö\n- –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏, –∫–æ–≥–¥–∞ –ª–∏–º–∏—Ç –±–ª–∏–∑–æ–∫ –∫ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—é"
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "proxyBaseUrl",
			"value": "https://mongodb-proxy-zvw6.onrender.com",
			"type": "string",
			"description": "URL MongoDB Proxy —Å–µ—Ä–≤–µ—Ä–∞. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π: http://localhost:3000"
		},
		{
			"key": "accessToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "tenantId",
			"value": "",
			"type": "string"
		}
	]
}


