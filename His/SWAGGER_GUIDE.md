# Swagger API Documentation Guide

## üöÄ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:3000/api
```

## üìã –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ Swagger

### ‚úÖ DTO —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏

#### **Patients DTO**

- `CreatePatientDto` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `UpdatePatientDto` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã)

#### **User DTO**

- `UserDto` - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

#### **Company DTO**

- `CreateCompanyDto` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏

#### **Auth DTO**

- `LoginCredentialsDto` - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞
- `UpdateCredentialsDto` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

#### **Patients Controller**

- `GET /patients` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- `GET /patients/:id` - –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ –ø–æ ID
- `POST /patients` - —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `PUT /patients/:id` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `DELETE /patients/:id` - —É–¥–∞–ª–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞

#### **Auth Controller**

- `POST /auth/login` - –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É

#### **Tenants Controller**

- `POST /tenants/create-company` - —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ JWT Bearer Authentication
- –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ endpoints —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω
- –î–æ–±–∞–≤–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-TENANT-ID` –¥–ª—è –º–Ω–æ–≥–æ—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç–∏

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Swagger

### 1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª `Tenants`
2. –ù–∞–∂–º–∏—Ç–µ `POST /tenants/create-company`
3. –ù–∞–∂–º–∏—Ç–µ `Try it out`
4. –í—Å—Ç–∞–≤—å—Ç–µ JSON:

```json
{
  "companyName": "Test Hospital",
  "user": {
    "name": "Admin User",
    "email": "admin@test.com",
    "password": 123456
  }
}
```

5. –ù–∞–∂–º–∏—Ç–µ `Execute`

### 2. **–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª `Authentication`
2. –ù–∞–∂–º–∏—Ç–µ `POST /auth/login`
3. –ù–∞–∂–º–∏—Ç–µ `Try it out`
4. –í—Å—Ç–∞–≤—å—Ç–µ JSON:

```json
{
  "email": "admin@test.com",
  "password": 123456
}
```

5. –ù–∞–∂–º–∏—Ç–µ `Execute`
6. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `access_token` –∏–∑ –æ—Ç–≤–µ—Ç–∞**

### 3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `Authorize` –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `Bearer YOUR_TOKEN_HERE`
3. –ù–∞–∂–º–∏—Ç–µ `Authorize`

### 4. **–†–∞–±–æ—Ç–∞ —Å –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª `Patients`
2. **–í–ê–ñ–ù–û**: –î–ª—è –ª—é–±–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-TENANT-ID`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ `tenantId` –∏–∑ –æ—Ç–≤–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏
4. **–ü—Ä–∏–º–µ—Ä**: –í –ø–æ–ª–µ `X-TENANT-ID` –≤–≤–µ–¥–∏—Ç–µ `abc123def456`

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞

```json
{
  "name": "John",
  "surname": "Doe",
  "age": 30
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞

```json
{
  "name": "Jane",
  "age": 31
}
```

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Swagger

### **–í–∞–ª–∏–¥–∞—Ü–∏—è**

- –í—Å–µ –ø–æ–ª—è —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–∏–ø–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

### **–û—Ç–≤–µ—Ç—ã**

- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å—ã
- –û–ø–∏—Å–∞–Ω—ã –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- JWT Bearer Authentication –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- –ü—Ä–∏–º–µ—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å –∫–æ–¥–æ–º
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - Swagger –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
4. **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤** - –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤** - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö DTO

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞! Swagger –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ö–µ–º—ã –∏–∑ DTO
- –°–æ–∑–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000/api`

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### **–ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É "Missing access token":**

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–∂–∞–ª–∏ –∫–Ω–æ–ø–∫—É **Authorize** üîí
2. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω **–ë–ï–ó** —Å–ª–æ–≤–∞ "Bearer" - —Ç–æ–ª—å–∫–æ —Å–∞–º —Ç–æ–∫–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç—ë–∫

### **–ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É "X-TENANT-ID is not provided":**

1. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-TENANT-ID` –≤ –∑–∞–ø—Ä–æ—Å
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `tenantId` –∏–∑ –æ—Ç–≤–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏

### **–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**

–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `SWAGGER_AUTH_GUIDE.md` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.
